(function(){var a;"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.nonce=(a=document.head.querySelector("meta[property=csp-nonce]"))==null?void 0:a.content,e.appendChild(document.createTextNode(".mapdiv[data-v-42b6d978]{width:100%;height:100%}.advanced-marker-wrapper{display:none}.mapdiv .advanced-marker-wrapper{display:inline-block}.custom-control-wrapper[data-v-1f1a52b4]{display:none}.mapdiv .custom-control-wrapper[data-v-1f1a52b4]{display:inline-block}.info-window-wrapper[data-v-11708d3e]{display:none}.mapdiv .info-window-wrapper[data-v-11708d3e]{display:inline-block}.custom-marker-wrapper[data-v-0be043d2]{display:none}.mapdiv .custom-marker-wrapper[data-v-0be043d2]{display:inline-block}")),document.head.appendChild(e)}}catch(d){console.error("vite-plugin-css-injected-by-js",d)}})();
(function(b,l){typeof exports=="object"&&typeof module<"u"?l(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],l):(b=typeof globalThis<"u"?globalThis:b||self,l(b.Vue3GoogleMap={},b.Vue))})(this,function(b,l){"use strict";var yn=Object.defineProperty;var vn=(b,l,S)=>l in b?yn(b,l,{enumerable:!0,configurable:!0,writable:!0,value:S}):b[l]=S;var te=(b,l,S)=>(vn(b,typeof l!="symbol"?l+"":l,S),S);const S=Symbol("map"),P=Symbol("api"),re=Symbol("marker"),ne=Symbol("markerCluster"),W=Symbol("CustomMarker"),oe=Symbol("mapTilesLoaded"),N=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];function Xe(t,e){t.src=e}const Je=t=>{var e,r,n,o="The Google Maps JavaScript API",s="google",i="importLibrary",c="__ib__",a=document,d=window,f=d[s]||(d[s]={}),u=f.maps||(f.maps={}),m=new Set,h=new URLSearchParams,v=()=>e||(e=new Promise(async(g,p)=>{var y;await(r=a.createElement("script")),h.set("libraries",[...m]+"");for(n in t)h.set(n.replace(/[A-Z]/g,_=>"_"+_[0].toLowerCase()),t[n]);h.set("callback",s+".maps."+c),Xe(r,"https://maps.googleapis.com/maps/api/js?"+h),u[c]=g,r.onerror=()=>e=p(Error(o+" could not load.")),r.nonce=((y=a.querySelector("script[nonce]"))==null?void 0:y.nonce)||"",a.head.append(r)}));u[i]?console.warn(o+" only loads once. Ignoring:",t):u[i]=(g,...p)=>m.add(g)&&v().then(()=>u[i](g,...p))},Qe=t=>`The setOptions() function should only be called once. The options passed to the additional call (${JSON.stringify(t)}) will be ignored.`,et=t=>`The google.maps.importLibrary() function is already defined, and @googlemaps/js-api-loader will use the existing function instead of overwriting it. The options passed to setOptions (${JSON.stringify(t)}) will be ignored.`,tt="No options were set before calling importLibrary. Make sure to configure the loader using setOptions().",rt="There already is a script loading the Google Maps JavaScript API, and no google.maps.importLibrary function is defined. @googlemaps/js-api-loader will proceed to bootstrap the API with the specified options, but the existing script might cause problems using the API. Make sure to remove the script loading the API.",_e=process.env.NODE_ENV!=="production",se=_e?t=>{console.warn(`[@googlemaps/js-api-loader] ${t}`)}:()=>{},nt=_e?t=>{console.info(`[@googlemaps/js-api-loader] ${t}`)}:()=>{},ot=process.env.NODE_ENV!=="production";let ie=!1;function st(t){if(ie){se(Qe(t));return}at(t),ie=!0}async function it(t){var e,r;if(ie||se(tt),!((r=(e=window==null?void 0:window.google)==null?void 0:e.maps)!=null&&r.importLibrary))throw new Error("google.maps.importLibrary is not installed.");return await google.maps.importLibrary(t)}function at(t){var r,n;const e=!!((n=(r=window.google)==null?void 0:r.maps)!=null&&n.importLibrary);e?nt(et(t)):ot&&document.querySelector('script[src*="maps.googleapis.com/maps/api/js"]')&&se(rt),e||Je(t)}function lt(t){return class extends t.OverlayView{constructor(n){super();te(this,"element");te(this,"opts");const{element:o,...s}=n;this.element=o,this.opts=s,this.opts.map&&this.setMap(this.opts.map)}getPosition(){return this.opts.position?this.opts.position instanceof t.LatLng?this.opts.position:new t.LatLng(this.opts.position):null}getVisible(){if(!this.element)return!1;const n=this.element;return n.style.display!=="none"&&n.style.visibility!=="hidden"&&(n.style.opacity===""||Number(n.style.opacity)>.01)}onAdd(){if(!this.element)return;const n=this.getPanes();n&&n.overlayMouseTarget.appendChild(this.element)}draw(){if(!this.element)return;const n=this.getProjection(),o=n==null?void 0:n.fromLatLngToDivPixel(this.getPosition());if(o){this.element.style.position="absolute";let s,i;switch(this.opts.anchorPoint){case"TOP_CENTER":s="-50%",i="-100%";break;case"BOTTOM_CENTER":s="-50%",i="0";break;case"LEFT_CENTER":s="-100%",i="-50%";break;case"RIGHT_CENTER":s="0",i="-50%";break;case"TOP_LEFT":s="-100%",i="-100%";break;case"TOP_RIGHT":s="0",i="-100%";break;case"BOTTOM_LEFT":s="-100%",i="0";break;case"BOTTOM_RIGHT":s="0",i="0";break;default:s="-50%",i="-50%"}const c=o.x+(this.opts.offsetX||0)+"px",a=o.y+(this.opts.offsetY||0)+"px";this.element.style.transform=`translateX(${s}) translateX(${c}) translateY(${i}) translateY(${a})`,this.opts.zIndex&&(this.element.style.zIndex=this.opts.zIndex.toString())}}onRemove(){this.element&&this.element.remove()}setOptions(n){const{element:o,...s}=n;this.element=o,this.opts=s,this.draw()}}}let we=!1;const ke=["bounds_changed","center_changed","click","contextmenu","dblclick","drag","dragend","dragstart","heading_changed","idle","isfractionalzoomenabled_changed","mapcapabilities_changed","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","renderingtype_changed","rightclick","tilesloaded","tilt_changed","zoom_changed"],ct=l.defineComponent({props:{apiPromise:{type:Promise},apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places","marker"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},colorScheme:{type:String,required:!1},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},isFractionalZoomEnabled:{type:Boolean,required:!1,default:void 0},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},mapId:{type:String,required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1},cameraControl:{type:Boolean,required:!1,default:void 0},cameraControlPosition:{type:String,required:!1}},emits:ke,setup(t,{emit:e}){const r=l.ref(),n=l.ref(!1),o=l.ref(),s=l.ref(),i=l.ref(!1);l.provide(S,o),l.provide(P,s),l.provide(oe,i);const c=()=>{const u={...t};Object.keys(u).forEach(g=>{u[g]===void 0&&delete u[g]});const h=g=>{var p;return g?{position:(p=s.value)==null?void 0:p.ControlPosition[g]}:{}},v={scaleControlOptions:t.scaleControlStyle?{style:t.scaleControlStyle}:{},panControlOptions:h(t.panControlPosition),zoomControlOptions:h(t.zoomControlPosition),rotateControlOptions:h(t.rotateControlPosition),streetViewControlOptions:h(t.streetViewControlPosition),fullscreenControlOptions:h(t.fullscreenControlPosition),cameraControlOptions:h(t.cameraControlPosition),disableDefaultUI:t.disableDefaultUi};return{...u,...v}},a=l.watch([s,o],([u,m])=>{const h=u,v=m;h&&v&&(h.event.addListenerOnce(v,"tilesloaded",()=>{i.value=!0}),setTimeout(a,0))},{immediate:!0}),d=()=>{const{apiKey:u,region:m,version:h,language:v,libraries:g}=t;st({key:u,region:m,v:h,language:v,libraries:g})},f=u=>{const m=u?u.maps:google.maps;s.value=l.markRaw(m),o.value=l.markRaw(new m.Map(r.value,c()));const h=lt(s.value);s.value[W]=h,ke.forEach(g=>{var p;(p=o.value)==null||p.addListener(g,y=>e(g,y))}),n.value=!0;const v=Object.keys(t).filter(g=>!["apiPromise","apiKey","version","libraries","region","language","center","zoom"].includes(g)).map(g=>l.toRef(t,g));l.watch([()=>t.center,()=>t.zoom,...v],([g,p],[y,_])=>{var E,T,R;const{center:C,zoom:O,...k}=c();(E=o.value)==null||E.setOptions(k),p!==void 0&&p!==_&&((T=o.value)==null||T.setZoom(p));const w=!y||g.lng!==y.lng||g.lat!==y.lat;g&&w&&((R=o.value)==null||R.panTo(g))})};return l.onMounted(()=>{if(t.apiPromise&&t.apiPromise instanceof Promise)t.apiPromise.then(f);else{we||(d(),we=!0);const u=t.libraries&&t.libraries.length>0?t.libraries:["maps","marker"];Promise.all(u.map(m=>it(m))).then(()=>f())}}),l.onBeforeUnmount(()=>{var u;i.value=!1,o.value&&((u=s.value)==null||u.event.clearInstanceListeners(o.value))}),{mapRef:r,ready:n,map:o,api:s,mapTilesLoaded:i}}}),_n="",D=(t,e)=>{const r=t.__vccOpts||t;for(const[n,o]of e)r[n]=o;return r},ut={ref:"mapRef",class:"mapdiv"};function dt(t,e,r,n,o,s){return l.openBlock(),l.createElementBlock("div",null,[l.createElementVNode("div",ut,null,512),l.renderSlot(t.$slots,"default",l.normalizeProps(l.guardReactiveProps({ready:t.ready,map:t.map,api:t.api,mapTilesLoaded:t.mapTilesLoaded})),void 0,!0)])}const ft=D(ct,[["render",dt],["__scopeId","data-v-42b6d978"]]);function pt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mt=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,o,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[o]))return!1;for(o=n;o--!==0;){var i=s[o];if(!t(e[i],r[i]))return!1}return!0}return e!==e&&r!==r};const U=pt(mt),be=["click","drag","dragend","dragstart","gmp-click"],ht=l.defineComponent({name:"AdvancedMarker",props:{options:{type:Object,required:!0},pinOptions:{type:Object,required:!1}},emits:be,setup(t,{emit:e,expose:r,slots:n}){const o=l.ref(),s=l.computed(()=>{var h;return(h=n.content)==null?void 0:h.call(n).some(v=>v.type!==l.Comment)}),i=l.toRef(t,"options"),c=l.toRef(t,"pinOptions"),a=l.ref(),d=l.inject(S,l.ref()),f=l.inject(P,l.ref()),u=l.inject(ne,l.ref()),m=l.computed(()=>!!(u.value&&f.value&&a.value instanceof google.maps.marker.AdvancedMarkerElement));return l.watch([d,i,c,o],async(h,[v,g,p,y])=>{var E,T,R;const _=!U(i.value,g)||!U(c.value,p),C=o.value!==y,O=_||C||d.value!==v;if(!d.value||!f.value||!O||s.value&&!o.value)return;const{AdvancedMarkerElement:k,PinElement:w}=f.value.marker;if(a.value){const{map:ye,content:ee,...ve}=i.value;Object.assign(a.value,{content:s.value?o.value:c.value?new w(c.value).element:ee,...ve}),m.value&&((E=u.value)==null||E.removeMarker(a.value),(T=u.value)==null||T.addMarker(a.value))}else s.value?i.value.content=o.value:c.value&&(i.value.content=new w(c.value).element),a.value=l.markRaw(new k(i.value)),m.value?(R=u.value)==null||R.addMarker(a.value):a.value.map=d.value,be.forEach(ye=>{var ee;(ee=a.value)==null||ee.addListener(ye,ve=>e(ye,ve))})},{immediate:!0,flush:"post"}),l.onBeforeUnmount(()=>{var h,v;a.value&&((h=f.value)==null||h.event.clearInstanceListeners(a.value),m.value?(v=u.value)==null||v.removeMarker(a.value):a.value.map=null)}),l.provide(re,a),r({marker:a}),{hasCustomSlotContent:s,markerRef:o}}}),wn="",gt={key:0,class:"advanced-marker-wrapper"};function yt(t,e,r,n,o,s){return l.openBlock(),l.createElementBlock(l.Fragment,null,[t.hasCustomSlotContent?(l.openBlock(),l.createElementBlock("div",gt,[l.createElementVNode("div",l.mergeProps({ref:"markerRef"},t.$attrs),[l.renderSlot(t.$slots,"content")],16)])):l.createCommentVNode("v-if",!0),l.renderSlot(t.$slots,"default")],64)}const vt=D(ht,[["render",yt]]),Ee=t=>t==="Marker",Ce=t=>t===W,$=(t,e,r,n)=>{const o=l.ref(),s=l.inject(S,l.ref()),i=l.inject(P,l.ref()),c=l.inject(ne,l.ref()),a=l.computed(()=>!!(c.value&&i.value&&(o.value instanceof i.value.Marker||o.value instanceof i.value[W])));return l.watch([s,r],(d,[f,u])=>{var h,v,g;const m=!U(r.value,u)||s.value!==f;if(!(!s.value||!i.value||!m))if(o.value)o.value.setOptions(r.value),a.value&&((h=c.value)==null||h.removeMarker(o.value),(v=c.value)==null||v.addMarker(o.value));else{if(Ee(t))o.value=l.markRaw(new i.value[t](r.value));else if(Ce(t)){const p=r.value;p.element&&(o.value=l.markRaw(new i.value[t](p)))}else o.value=l.markRaw(new i.value[t]({...r.value,map:s.value}));o.value&&(a.value?(g=c.value)==null||g.addMarker(o.value):(Ee(t)||Ce(t))&&o.value.setMap(s.value)),e.forEach(p=>{var y;(y=o.value)==null||y.addListener(p,_=>n(p,_))})}},{immediate:!0,flush:"post"}),l.onBeforeUnmount(()=>{var d,f;o.value&&((d=i.value)==null||d.event.clearInstanceListeners(o.value),a.value?(f=c.value)==null||f.removeMarker(o.value):o.value.setMap(null))}),o},Me=["animation_changed","click","dblclick","rightclick","dragstart","dragend","drag","mouseover","mousedown","mouseout","mouseup","draggable_changed","clickable_changed","contextmenu","cursor_changed","flat_changed","zindex_changed","icon_changed","position_changed","shape_changed","title_changed","visible_changed"],_t=l.defineComponent({name:"Marker",props:{options:{type:Object,required:!0}},emits:Me,setup(t,{emit:e,expose:r,slots:n}){const o=l.toRef(t,"options"),s=$("Marker",Me,o,e);return l.provide(re,s),r({marker:s}),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),wt=l.defineComponent({name:"Polyline",props:{options:{type:Object,required:!0}},emits:N,setup(t,{emit:e}){const r=l.toRef(t,"options");return{polyline:$("Polyline",N,r,e)}},render:()=>null}),kt=l.defineComponent({name:"Polygon",props:{options:{type:Object,required:!0}},emits:N,setup(t,{emit:e}){const r=l.toRef(t,"options");return{polygon:$("Polygon",N,r,e)}},render:()=>null}),Oe=N.concat(["bounds_changed"]),bt=l.defineComponent({name:"Rectangle",props:{options:{type:Object,required:!0}},emits:Oe,setup(t,{emit:e}){const r=l.toRef(t,"options");return{rectangle:$("Rectangle",Oe,r,e)}},render:()=>null}),Se=N.concat(["center_changed","radius_changed"]),Et=l.defineComponent({name:"Circle",props:{options:{type:Object,required:!0}},emits:Se,setup(t,{emit:e}){const r=l.toRef(t,"options");return{circle:$("Circle",Se,r,e)}},render:()=>null}),Ct=l.defineComponent({props:{position:{type:String,required:!0},index:{type:Number,default:1}},emits:["content:loaded"],setup(t,{emit:e}){const r=l.ref(null),n=l.inject(S,l.ref()),o=l.inject(P,l.ref()),s=l.inject(oe,l.ref(!1)),i=l.watch([s,o,r],([d,f,u])=>{f&&d&&u&&(c(t.position),e("content:loaded"),setTimeout(i,0))},{immediate:!0}),c=d=>{if(n.value&&o.value&&r.value){const f=o.value.ControlPosition[d];r.value.index=t.index,n.value.controls[f].push(r.value)}},a=d=>{if(n.value&&o.value){let f=null;const u=o.value.ControlPosition[d];n.value.controls[u].forEach((m,h)=>{m===r.value&&(f=h)}),f!==null&&n.value.controls[u].removeAt(f)}};return l.onBeforeUnmount(()=>a(t.position)),l.watch(()=>t.position,(d,f)=>{a(f),c(d)}),l.watch(()=>t.index,d=>{r.value&&(r.value.index=d)}),{controlRef:r}}}),kn="",Mt={ref:"controlRef",class:"custom-control-wrapper"};function Ot(t,e,r,n,o,s){return l.openBlock(),l.createElementBlock(l.Fragment,null,[l.createCommentVNode(`\r
    v-show must be used instead of v-if otherwise there\r
    would be no rendered content pushed to the map controls\r
  `),l.createElementVNode("div",Mt,[l.renderSlot(t.$slots,"default",{},void 0,!0)],512)],2112)}const St=D(Ct,[["render",Ot],["__scopeId","data-v-1f1a52b4"]]),Te=["closeclick","content_changed","domready","position_changed","visible","zindex_changed"],Tt=l.defineComponent({inheritAttrs:!1,props:{options:{type:Object,default:()=>({})},modelValue:{type:Boolean}},emits:[...Te,"update:modelValue"],setup(t,{slots:e,emit:r,expose:n}){const o=l.ref(),s=l.ref(),i=l.inject(S,l.ref()),c=l.inject(P,l.ref()),a=l.inject(re,l.ref());let d,f=t.modelValue;const u=l.computed(()=>{var g;return(g=e.default)==null?void 0:g.call(e).some(p=>p.type!==l.Comment)}),m=g=>{f=g,r("update:modelValue",g)},h=g=>{o.value&&(o.value.open({map:i.value,anchor:a.value,...g}),m(!0))},v=()=>{o.value&&(o.value.close(),m(!1))};return l.onMounted(()=>{l.watch([i,()=>t.options],([g,p],[y,_])=>{var O;const C=!U(p,_)||i.value!==y;i.value&&c.value&&C&&(o.value?(o.value.setOptions({...p,content:u.value?s.value:p.content}),a.value||h()):(o.value=l.markRaw(new c.value.InfoWindow({...p,content:u.value?s.value:p.content})),a.value&&(d=a.value.addListener("click",()=>h())),(!a.value||f)&&h(),Te.forEach(k=>{var w;(w=o.value)==null||w.addListener(k,E=>r(k,E))}),(O=o.value)==null||O.addListener("closeclick",()=>m(!1))))},{immediate:!0,flush:"post"}),l.watch(a,(g,p)=>{!o.value||g===p||(d&&(d.remove(),d=void 0),g&&(d=g.addListener("click",()=>h())))},{flush:"post"}),l.watch(()=>t.modelValue,g=>{g!==f&&(g?h():v())})}),l.onBeforeUnmount(()=>{var g;d&&d.remove(),o.value&&((g=c.value)==null||g.event.clearInstanceListeners(o.value),v())}),n({infoWindow:o,open:h,close:v}),{infoWindow:o,infoWindowRef:s,hasSlotContent:u,open:h,close:v}}}),bn="",At={key:0,class:"info-window-wrapper"};function Pt(t,e,r,n,o,s){return t.hasSlotContent?(l.openBlock(),l.createElementBlock("div",At,[l.createElementVNode("div",l.mergeProps({ref:"infoWindowRef"},t.$attrs),[l.renderSlot(t.$slots,"default",{},void 0,!0)],16)])):l.createCommentVNode("v-if",!0)}const Lt=D(Tt,[["render",Pt],["__scopeId","data-v-11708d3e"]]),{getOwnPropertyNames:jt,getOwnPropertySymbols:It}=Object,{hasOwnProperty:xt}=Object.prototype;function ae(t,e){return function(n,o,s){return t(n,o,s)&&e(n,o,s)}}function H(t){return function(r,n,o){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,o);const{cache:s}=o,i=s.get(r),c=s.get(n);if(i&&c)return i===n&&c===r;s.set(r,n),s.set(n,r);const a=t(r,n,o);return s.delete(r),s.delete(n),a}}function Rt(t){return t!=null?t[Symbol.toStringTag]:void 0}function Ae(t){return jt(t).concat(It(t))}const qt=Object.hasOwn||((t,e)=>xt.call(t,e));function q(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Bt="__v",Nt="__o",$t="_owner",{getOwnPropertyDescriptor:Pe,keys:Le}=Object;function Dt(t,e){return t.byteLength===e.byteLength&&Y(new Uint8Array(t),new Uint8Array(e))}function Ut(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Vt(t,e){return t.byteLength===e.byteLength&&Y(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Gt(t,e){return q(t.getTime(),e.getTime())}function Zt(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Ft(t,e){return t===e}function je(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const o=new Array(n),s=t.entries();let i,c,a=0;for(;(i=s.next())&&!i.done;){const d=e.entries();let f=!1,u=0;for(;(c=d.next())&&!c.done;){if(o[u]){u++;continue}const m=i.value,h=c.value;if(r.equals(m[0],h[0],a,u,t,e,r)&&r.equals(m[1],h[1],m[0],h[0],t,e,r)){f=o[u]=!0;break}u++}if(!f)return!1;a++}return!0}const zt=q;function Wt(t,e,r){const n=Le(t);let o=n.length;if(Le(e).length!==o)return!1;for(;o-- >0;)if(!xe(t,e,r,n[o]))return!1;return!0}function V(t,e,r){const n=Ae(t);let o=n.length;if(Ae(e).length!==o)return!1;let s,i,c;for(;o-- >0;)if(s=n[o],!xe(t,e,r,s)||(i=Pe(t,s),c=Pe(e,s),(i||c)&&(!i||!c||i.configurable!==c.configurable||i.enumerable!==c.enumerable||i.writable!==c.writable)))return!1;return!0}function Ht(t,e){return q(t.valueOf(),e.valueOf())}function Yt(t,e){return t.source===e.source&&t.flags===e.flags}function Ie(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const o=new Array(n),s=t.values();let i,c;for(;(i=s.next())&&!i.done;){const a=e.values();let d=!1,f=0;for(;(c=a.next())&&!c.done;){if(!o[f]&&r.equals(i.value,c.value,i.value,c.value,t,e,r)){d=o[f]=!0;break}f++}if(!d)return!1}return!0}function Y(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Kt(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function xe(t,e,r,n){return(n===$t||n===Nt||n===Bt)&&(t.$$typeof||e.$$typeof)?!0:qt(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const Xt="[object ArrayBuffer]",Jt="[object Arguments]",Qt="[object Boolean]",er="[object DataView]",tr="[object Date]",rr="[object Error]",nr="[object Map]",or="[object Number]",sr="[object Object]",ir="[object RegExp]",ar="[object Set]",lr="[object String]",cr={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},ur="[object URL]",dr=Object.prototype.toString;function fr({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:o,areFunctionsEqual:s,areMapsEqual:i,areNumbersEqual:c,areObjectsEqual:a,arePrimitiveWrappersEqual:d,areRegExpsEqual:f,areSetsEqual:u,areTypedArraysEqual:m,areUrlsEqual:h,unknownTagComparators:v}){return function(p,y,_){if(p===y)return!0;if(p==null||y==null)return!1;const C=typeof p;if(C!==typeof y)return!1;if(C!=="object")return C==="number"?c(p,y,_):C==="function"?s(p,y,_):!1;const O=p.constructor;if(O!==y.constructor)return!1;if(O===Object)return a(p,y,_);if(Array.isArray(p))return e(p,y,_);if(O===Date)return n(p,y,_);if(O===RegExp)return f(p,y,_);if(O===Map)return i(p,y,_);if(O===Set)return u(p,y,_);const k=dr.call(p);if(k===tr)return n(p,y,_);if(k===ir)return f(p,y,_);if(k===nr)return i(p,y,_);if(k===ar)return u(p,y,_);if(k===sr)return typeof p.then!="function"&&typeof y.then!="function"&&a(p,y,_);if(k===ur)return h(p,y,_);if(k===rr)return o(p,y,_);if(k===Jt)return a(p,y,_);if(cr[k])return m(p,y,_);if(k===Xt)return t(p,y,_);if(k===er)return r(p,y,_);if(k===Qt||k===or||k===lr)return d(p,y,_);if(v){let w=v[k];if(!w){const E=Rt(p);E&&(w=v[E])}if(w)return w(p,y,_)}return!1}}function pr({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:Dt,areArraysEqual:r?V:Ut,areDataViewsEqual:Vt,areDatesEqual:Gt,areErrorsEqual:Zt,areFunctionsEqual:Ft,areMapsEqual:r?ae(je,V):je,areNumbersEqual:zt,areObjectsEqual:r?V:Wt,arePrimitiveWrappersEqual:Ht,areRegExpsEqual:Yt,areSetsEqual:r?ae(Ie,V):Ie,areTypedArraysEqual:r?ae(Y,V):Y,areUrlsEqual:Kt,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const o=H(n.areArraysEqual),s=H(n.areMapsEqual),i=H(n.areObjectsEqual),c=H(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:i,areSetsEqual:c})}return n}function mr(t){return function(e,r,n,o,s,i,c){return t(e,r,c)}}function hr({circular:t,comparator:e,createState:r,equals:n,strict:o}){if(r)return function(c,a){const{cache:d=t?new WeakMap:void 0,meta:f}=r();return e(c,a,{cache:d,equals:n,meta:f,strict:o})};if(t)return function(c,a){return e(c,a,{cache:new WeakMap,equals:n,meta:void 0,strict:o})};const s={cache:void 0,equals:n,meta:void 0,strict:o};return function(c,a){return e(c,a,s)}}const K=L();L({strict:!0}),L({circular:!0}),L({circular:!0,strict:!0}),L({createInternalComparator:()=>q}),L({strict:!0,createInternalComparator:()=>q}),L({circular:!0,createInternalComparator:()=>q}),L({circular:!0,createInternalComparator:()=>q,strict:!0});function L(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:o=!1}=t,s=pr(t),i=fr(s),c=r?r(i):mr(i);return hr({circular:e,comparator:i,createState:n,equals:c,strict:o})}const Re=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],le=1,G=8;class ce{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[r,n]=new Uint8Array(e,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");const o=n>>4;if(o!==le)throw new Error(`Got v${o} data when expected v${le}.`);const s=Re[n&15];if(!s)throw new Error("Unrecognized array type.");const[i]=new Uint16Array(e,2,1),[c]=new Uint32Array(e,4,1);return new ce(c,i,s,e)}constructor(e,r=64,n=Float64Array,o){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const s=Re.indexOf(this.ArrayType),i=e*2*this.ArrayType.BYTES_PER_ELEMENT,c=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-c%8)%8;if(s<0)throw new Error(`Unexpected typed array class: ${n}.`);o&&o instanceof ArrayBuffer?(this.data=o,this.ids=new this.IndexArrayType(this.data,G,e),this.coords=new this.ArrayType(this.data,G+c+a,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(G+i+c+a),this.ids=new this.IndexArrayType(this.data,G,e),this.coords=new this.ArrayType(this.data,G+c+a,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(le<<4)+s]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=e)}add(e,r){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=r,n}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return ue(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,r,n,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:i,nodeSize:c}=this,a=[0,s.length-1,0],d=[];for(;a.length;){const f=a.pop()||0,u=a.pop()||0,m=a.pop()||0;if(u-m<=c){for(let p=m;p<=u;p++){const y=i[2*p],_=i[2*p+1];y>=e&&y<=n&&_>=r&&_<=o&&d.push(s[p])}continue}const h=m+u>>1,v=i[2*h],g=i[2*h+1];v>=e&&v<=n&&g>=r&&g<=o&&d.push(s[h]),(f===0?e<=v:r<=g)&&(a.push(m),a.push(h-1),a.push(1-f)),(f===0?n>=v:o>=g)&&(a.push(h+1),a.push(u),a.push(1-f))}return d}within(e,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:s,nodeSize:i}=this,c=[0,o.length-1,0],a=[],d=n*n;for(;c.length;){const f=c.pop()||0,u=c.pop()||0,m=c.pop()||0;if(u-m<=i){for(let p=m;p<=u;p++)Be(s[2*p],s[2*p+1],e,r)<=d&&a.push(o[p]);continue}const h=m+u>>1,v=s[2*h],g=s[2*h+1];Be(v,g,e,r)<=d&&a.push(o[h]),(f===0?e-n<=v:r-n<=g)&&(c.push(m),c.push(h-1),c.push(1-f)),(f===0?e+n>=v:r+n>=g)&&(c.push(h+1),c.push(u),c.push(1-f))}return a}}function ue(t,e,r,n,o,s){if(o-n<=r)return;const i=n+o>>1;qe(t,e,i,n,o,s),ue(t,e,r,n,i-1,1-s),ue(t,e,r,i+1,o,1-s)}function qe(t,e,r,n,o,s){for(;o>n;){if(o-n>600){const d=o-n+1,f=r-n+1,u=Math.log(d),m=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*m*(d-m)/d)*(f-d/2<0?-1:1),v=Math.max(n,Math.floor(r-f*m/d+h)),g=Math.min(o,Math.floor(r+(d-f)*m/d+h));qe(t,e,r,v,g,s)}const i=e[2*r+s];let c=n,a=o;for(Z(t,e,n,r),e[2*o+s]>i&&Z(t,e,n,o);c<a;){for(Z(t,e,c,a),c++,a--;e[2*c+s]<i;)c++;for(;e[2*a+s]>i;)a--}e[2*n+s]===i?Z(t,e,n,a):(a++,Z(t,e,a,o)),a<=r&&(n=a+1),r<=a&&(o=a-1)}}function Z(t,e,r,n){de(t,r,n),de(e,2*r,2*n),de(e,2*r+1,2*n+1)}function de(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Be(t,e,r,n){const o=t-r,s=e-n;return o*o+s*s}const gr={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},Ne=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),B=2,j=3,fe=4,I=5,$e=6;class De{constructor(e){this.options=Object.assign(Object.create(gr),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:r,minZoom:n,maxZoom:o}=this.options;r&&console.time("total time");const s=`prepare ${e.length} points`;r&&console.time(s),this.points=e;const i=[];for(let a=0;a<e.length;a++){const d=e[a];if(!d.geometry)continue;const[f,u]=d.geometry.coordinates,m=Ne(X(f)),h=Ne(J(u));i.push(m,h,1/0,a,-1,1),this.options.reduce&&i.push(0)}let c=this.trees[o+1]=this._createTree(i);r&&console.timeEnd(s);for(let a=o;a>=n;a--){const d=+Date.now();c=this.trees[a]=this._createTree(this._cluster(c,a)),r&&console.log("z%d: %d clusters in %dms",a,c.numItems,+Date.now()-d)}return r&&console.timeEnd("total time"),this}getClusters(e,r){let n=((e[0]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[1]));let s=e[2]===180?180:((e[2]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,s=180;else if(n>s){const u=this.getClusters([n,o,180,i],r),m=this.getClusters([-180,o,s,i],r);return u.concat(m)}const c=this.trees[this._limitZoom(r)],a=c.range(X(n),J(i),X(s),J(o)),d=c.data,f=[];for(const u of a){const m=this.stride*u;f.push(d[m+I]>1?Ue(d,m,this.clusterProps):this.points[d[m+j]])}return f}getChildren(e){const r=this._getOriginId(e),n=this._getOriginZoom(e),o="No cluster with the specified id.",s=this.trees[n];if(!s)throw new Error(o);const i=s.data;if(r*this.stride>=i.length)throw new Error(o);const c=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=i[r*this.stride],d=i[r*this.stride+1],f=s.within(a,d,c),u=[];for(const m of f){const h=m*this.stride;i[h+fe]===e&&u.push(i[h+I]>1?Ue(i,h,this.clusterProps):this.points[i[h+j]])}if(u.length===0)throw new Error(o);return u}getLeaves(e,r,n){r=r||10,n=n||0;const o=[];return this._appendLeaves(o,e,r,n,0),o}getTile(e,r,n){const o=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:i,radius:c}=this.options,a=c/i,d=(n-a)/s,f=(n+1+a)/s,u={features:[]};return this._addTileFeatures(o.range((r-a)/s,d,(r+1+a)/s,f),o.data,r,n,s,u),r===0&&this._addTileFeatures(o.range(1-a/s,d,1,f),o.data,s,n,s,u),r===s-1&&this._addTileFeatures(o.range(0,d,a/s,f),o.data,-1,n,s,u),u.features.length?u:null}getClusterExpansionZoom(e){let r=this._getOriginZoom(e)-1;for(;r<=this.options.maxZoom;){const n=this.getChildren(e);if(r++,n.length!==1)break;e=n[0].properties.cluster_id}return r}_appendLeaves(e,r,n,o,s){const i=this.getChildren(r);for(const c of i){const a=c.properties;if(a&&a.cluster?s+a.point_count<=o?s+=a.point_count:s=this._appendLeaves(e,a.cluster_id,n,o,s):s<o?s++:e.push(c),e.length===n)break}return s}_createTree(e){const r=new ce(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<e.length;n+=this.stride)r.add(e[n],e[n+1]);return r.finish(),r.data=e,r}_addTileFeatures(e,r,n,o,s,i){for(const c of e){const a=c*this.stride,d=r[a+I]>1;let f,u,m;if(d)f=Ve(r,a,this.clusterProps),u=r[a],m=r[a+1];else{const g=this.points[r[a+j]];f=g.properties;const[p,y]=g.geometry.coordinates;u=X(p),m=J(y)}const h={type:1,geometry:[[Math.round(this.options.extent*(u*s-n)),Math.round(this.options.extent*(m*s-o))]],tags:f};let v;d||this.options.generateId?v=r[a+j]:v=this.points[r[a+j]].id,v!==void 0&&(h.id=v),i.features.push(h)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,r){const{radius:n,extent:o,reduce:s,minPoints:i}=this.options,c=n/(o*Math.pow(2,r)),a=e.data,d=[],f=this.stride;for(let u=0;u<a.length;u+=f){if(a[u+B]<=r)continue;a[u+B]=r;const m=a[u],h=a[u+1],v=e.within(a[u],a[u+1],c),g=a[u+I];let p=g;for(const y of v){const _=y*f;a[_+B]>r&&(p+=a[_+I])}if(p>g&&p>=i){let y=m*g,_=h*g,C,O=-1;const k=((u/f|0)<<5)+(r+1)+this.points.length;for(const w of v){const E=w*f;if(a[E+B]<=r)continue;a[E+B]=r;const T=a[E+I];y+=a[E]*T,_+=a[E+1]*T,a[E+fe]=k,s&&(C||(C=this._map(a,u,!0),O=this.clusterProps.length,this.clusterProps.push(C)),s(C,this._map(a,E)))}a[u+fe]=k,d.push(y/p,_/p,1/0,k,-1,p),s&&d.push(O)}else{for(let y=0;y<f;y++)d.push(a[u+y]);if(p>1)for(const y of v){const _=y*f;if(!(a[_+B]<=r)){a[_+B]=r;for(let C=0;C<f;C++)d.push(a[_+C])}}}}return d}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,r,n){if(e[r+I]>1){const i=this.clusterProps[e[r+$e]];return n?Object.assign({},i):i}const o=this.points[e[r+j]].properties,s=this.options.map(o);return n&&s===o?Object.assign({},s):s}}function Ue(t,e,r){return{type:"Feature",id:t[e+j],properties:Ve(t,e,r),geometry:{type:"Point",coordinates:[yr(t[e]),vr(t[e+1])]}}}function Ve(t,e,r){const n=t[e+I],o=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?`${Math.round(n/100)/10}k`:n,s=t[e+$e],i=s===-1?{}:Object.assign({},r[s]);return Object.assign(i,{cluster:!0,cluster_id:t[e+j],point_count:n,point_count_abbreviated:o})}function X(t){return t/360+.5}function J(t){const e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function yr(t){return(t-.5)*360}function vr(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function pe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}typeof SuppressedError=="function"&&SuppressedError;class M{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,r){this.isAdvancedMarker(e)?e.map=r:e.setMap(r)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(Number.isFinite(e.position.lat)&&Number.isFinite(e.position.lng))return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class F{constructor({markers:e,position:r}){this.markers=[],e&&(this.markers=e),r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const r of this.markers)e.extend(M.getPosition(r));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>M.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(M.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}function A(t,e="assertion failed"){if(t==null)throw Error(e)}const _r=(t,e,r,n)=>{const o=t.getBounds();A(o);const s=Ge(o,e,n);return r.filter(i=>s.contains(M.getPosition(i)))},Ge=(t,e,r)=>{const{northEast:n,southWest:o}=kr(t,e),s=br({northEast:n,southWest:o},r);return Er(s,e)},wr=(t,e,r)=>{const n=Ge(t,e,r),o=n.getNorthEast(),s=n.getSouthWest();return[s.lng(),s.lat(),o.lng(),o.lat()]},kr=(t,e)=>{const r=e.fromLatLngToDivPixel(t.getNorthEast()),n=e.fromLatLngToDivPixel(t.getSouthWest());return A(r),A(n),{northEast:r,southWest:n}},br=({northEast:t,southWest:e},r)=>(t.x+=r,t.y-=r,e.x-=r,e.y+=r,{northEast:t,southWest:e}),Er=({northEast:t,southWest:e},r)=>{const n=r.fromDivPixelToLatLng(e),o=r.fromDivPixelToLatLng(t);return new google.maps.LatLngBounds(n,o)};class Ze{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return Mr(e)}}class Cr extends Ze{constructor(e){var{viewportPadding:r=60}=e,n=pe(e,["viewportPadding"]);super(n),this.viewportPadding=60,this.viewportPadding=r}calculate({markers:e,map:r,mapCanvasProjection:n}){const o=r.getZoom();return A(o),o>=this.maxZoom?{clusters:this.noop({markers:e}),changed:!1}:{clusters:this.cluster({markers:_r(r,n,e,this.viewportPadding),map:r,mapCanvasProjection:n})}}}const Mr=t=>t.map(r=>new F({position:M.getPosition(r),markers:[r]}));class Or extends Ze{constructor(e){var{maxZoom:r,radius:n=60}=e,o=pe(e,["maxZoom","radius"]);super({maxZoom:r}),this.markers=[],this.clusters=[],this.state={zoom:-1},this.superCluster=new De(Object.assign({maxZoom:this.maxZoom,radius:n},o))}calculate(e){let r=!1,n=e.map.getZoom();A(n),n=Math.round(n);const o={zoom:n};if(!K(e.markers,this.markers)){r=!0,this.markers=[...e.markers];const s=this.markers.map(i=>{const c=M.getPosition(i);return{type:"Feature",geometry:{type:"Point",coordinates:[c.lng(),c.lat()]},properties:{marker:i}}});this.superCluster.load(s)}return r||(this.state.zoom<=this.maxZoom||o.zoom<=this.maxZoom)&&(r=!K(this.state,o)),this.state=o,e.markers.length===0?(this.clusters=[],{clusters:this.clusters,changed:r}):(r&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:r})}cluster({map:e}){const r=e.getZoom();return A(r),this.superCluster.getClusters([-180,-90,180,90],Math.round(r)).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[e,r]},properties:n}){if(n.cluster)return new F({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(s=>s.properties.marker),position:{lat:r,lng:e}});const o=n.marker;return new F({markers:[o],position:M.getPosition(o)})}}class Sr extends Cr{constructor(e){var{maxZoom:r,radius:n=60,viewportPadding:o=60}=e,s=pe(e,["maxZoom","radius","viewportPadding"]);super({maxZoom:r,viewportPadding:o}),this.markers=[],this.clusters=[],this.superCluster=new De(Object.assign({maxZoom:this.maxZoom,radius:n},s)),this.state={zoom:-1,view:[0,0,0,0]}}calculate(e){const r=this.getViewportState(e);let n=!K(this.state,r);if(!K(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const o=this.markers.map(s=>{const i=M.getPosition(s);return{type:"Feature",geometry:{type:"Point",coordinates:[i.lng(),i.lat()]},properties:{marker:s}}});this.superCluster.load(o)}return n&&(this.clusters=this.cluster(e),this.state=r),{clusters:this.clusters,changed:n}}cluster(e){const r=this.getViewportState(e);return this.superCluster.getClusters(r.view,r.zoom).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[e,r]},properties:n}){if(n.cluster)return new F({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(s=>s.properties.marker),position:{lat:r,lng:e}});const o=n.marker;return new F({markers:[o],position:M.getPosition(o)})}getViewportState(e){const r=e.map.getZoom(),n=e.map.getBounds();return A(r),A(n),{zoom:Math.round(r),view:wr(n,e.mapCanvasProjection,this.viewportPadding)}}}class Tr{constructor(e,r){this.markers={sum:e.length};const n=r.map(s=>s.count),o=n.reduce((s,i)=>s+i,0);this.clusters={count:r.length,markers:{mean:o/r.length,sum:o,min:Math.min(...n),max:Math.max(...n)}}}}class Ar{render({count:e,position:r},n,o){const i=`<svg fill="${e>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,c=`Cluster of ${e} markers`,a=Number(google.maps.Marker.MAX_ZINDEX)+e;if(M.isAdvancedMarkerAvailable(o)){const u=new DOMParser().parseFromString(i,"image/svg+xml").documentElement;u.setAttribute("transform","translate(0 25)");const m={map:o,position:r,zIndex:a,title:c,content:u};return new google.maps.marker.AdvancedMarkerElement(m)}const d={position:r,zIndex:a,title:c,icon:{url:`data:image/svg+xml;base64,${btoa(i)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(d)}}function Pr(t,e){for(let r in e.prototype)t.prototype[r]=e.prototype[r]}class me{constructor(){Pr(me,google.maps.OverlayView)}}var x;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click",t.GMP_CLICK="gmp-click"})(x||(x={}));const Lr=(t,e,r)=>{e.bounds&&r.fitBounds(e.bounds)};class jr extends me{constructor({map:e,markers:r=[],algorithmOptions:n={},algorithm:o=new Or(n),renderer:s=new Ar,onClusterClick:i=Lr}){super(),this.map=null,this.idleListener=null,this.markers=[...r],this.clusters=[],this.algorithm=o,this.renderer=s,this.onClusterClick=i,e&&this.setMap(e)}addMarker(e,r){this.markers.includes(e)||(this.markers.push(e),r||this.render())}addMarkers(e,r){e.forEach(n=>{this.addMarker(n,!0)}),r||this.render()}removeMarker(e,r){const n=this.markers.indexOf(e);return n===-1?!1:(M.setMap(e,null),this.markers.splice(n,1),r||this.render(),!0)}removeMarkers(e,r){let n=!1;return e.forEach(o=>{n=this.removeMarker(o,!0)||n}),n&&!r&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,x.CLUSTERING_BEGIN,this);const{clusters:r,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||n==null){const o=new Set;for(const i of r)i.markers.length==1&&o.add(i.markers[0]);const s=[];for(const i of this.clusters)i.marker!=null&&(i.markers.length==1?o.has(i.marker)||M.setMap(i.marker,null):s.push(i.marker));this.clusters=r,this.renderClusters(),requestAnimationFrame(()=>s.forEach(i=>M.setMap(i,null)))}google.maps.event.trigger(this,x.CLUSTERING_END,this)}}onAdd(){const e=this.getMap();A(e),this.idleListener=e.addListener("idle",this.render.bind(this)),this.render()}onRemove(){this.idleListener&&google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>M.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new Tr(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(n=>{if(n.markers.length===1)n.marker=n.markers[0];else if(n.marker=this.renderer.render(n,e,r),n.markers.forEach(o=>M.setMap(o,null)),this.onClusterClick){const o=M.isAdvancedMarker(n.marker)?x.GMP_CLICK:x.CLUSTER_CLICK;n.marker.addListener(o,s=>{google.maps.event.trigger(this,x.CLUSTER_CLICK,n),this.onClusterClick(s,n,r)})}M.setMap(n.marker,r)})}}function he(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ir=typeof global=="object"&&global&&global.Object===Object&&global;const xr=Ir;var Rr=typeof self=="object"&&self&&self.Object===Object&&self,qr=xr||Rr||Function("return this")();const Fe=qr;var Br=function(){return Fe.Date.now()};const ge=Br;var Nr=/\s/;function $r(t){for(var e=t.length;e--&&Nr.test(t.charAt(e)););return e}var Dr=/^\s+/;function Ur(t){return t&&t.slice(0,$r(t)+1).replace(Dr,"")}var Vr=Fe.Symbol;const Q=Vr;var ze=Object.prototype,Gr=ze.hasOwnProperty,Zr=ze.toString,z=Q?Q.toStringTag:void 0;function Fr(t){var e=Gr.call(t,z),r=t[z];try{t[z]=void 0;var n=!0}catch{}var o=Zr.call(t);return n&&(e?t[z]=r:delete t[z]),o}var zr=Object.prototype,Wr=zr.toString;function Hr(t){return Wr.call(t)}var Yr="[object Null]",Kr="[object Undefined]",We=Q?Q.toStringTag:void 0;function Xr(t){return t==null?t===void 0?Kr:Yr:We&&We in Object(t)?Fr(t):Hr(t)}function Jr(t){return t!=null&&typeof t=="object"}var Qr="[object Symbol]";function en(t){return typeof t=="symbol"||Jr(t)&&Xr(t)==Qr}var He=0/0,tn=/^[-+]0x[0-9a-f]+$/i,rn=/^0b[01]+$/i,nn=/^0o[0-7]+$/i,on=parseInt;function Ye(t){if(typeof t=="number")return t;if(en(t))return He;if(he(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=he(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ur(t);var r=rn.test(t);return r||nn.test(t)?on(t.slice(2),r?2:8):tn.test(t)?He:+t}var sn="Expected a function",an=Math.max,ln=Math.min;function cn(t,e,r){var n,o,s,i,c,a,d=0,f=!1,u=!1,m=!0;if(typeof t!="function")throw new TypeError(sn);e=Ye(e)||0,he(r)&&(f=!!r.leading,u="maxWait"in r,s=u?an(Ye(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m);function h(w){var E=n,T=o;return n=o=void 0,d=w,i=t.apply(T,E),i}function v(w){return d=w,c=setTimeout(y,e),f?h(w):i}function g(w){var E=w-a,T=w-d,R=e-E;return u?ln(R,s-T):R}function p(w){var E=w-a,T=w-d;return a===void 0||E>=e||E<0||u&&T>=s}function y(){var w=ge();if(p(w))return _(w);c=setTimeout(y,g(w))}function _(w){return c=void 0,m&&n?h(w):(n=o=void 0,i)}function C(){c!==void 0&&clearTimeout(c),d=0,n=a=o=c=void 0}function O(){return c===void 0?i:_(ge())}function k(){var w=ge(),E=p(w);if(n=arguments,o=this,a=w,E){if(c===void 0)return v(a);if(u)return clearTimeout(c),c=setTimeout(y,e),h(a)}return c===void 0&&(c=setTimeout(y,e)),i}return k.cancel=C,k.flush=O,k}class un extends jr{constructor(r,n=10){super(r);te(this,"debouncedRender");this.debouncedRender=cn(()=>{super.render()},n,{leading:!0,trailing:!0})}addMarker(r,n){super.addMarker(r,!0),n||this.debouncedRender()}removeMarker(r,n){const o=super.removeMarker(r,!0);return n||this.debouncedRender(),o}addMarkers(r,n){super.addMarkers(r,!0),n||this.debouncedRender()}removeMarkers(r,n){const o=super.removeMarkers(r,!0);return n||this.debouncedRender(),o}clearMarkers(r){super.clearMarkers(!0),r||this.debouncedRender()}render(){this.debouncedRender.cancel(),super.render()}destroy(){this.debouncedRender.cancel()}}const Ke=Object.values(x),dn=l.defineComponent({name:"MarkerCluster",props:{options:{type:Object,default:()=>({})},renderDebounceDelay:{type:Number,default:10}},emits:Ke,setup(t,{emit:e,expose:r,slots:n}){const o=l.ref(),s=l.inject(S,l.ref()),i=l.inject(P,l.ref());return l.provide(ne,o),l.watch(s,()=>{s.value&&(o.value=l.markRaw(new un({map:s.value,algorithm:new Sr(t.options.algorithmOptions??{}),...t.options},t.renderDebounceDelay)),Ke.forEach(c=>{var a;(a=o.value)==null||a.addListener(c,d=>e(c,d))}))},{immediate:!0}),l.onBeforeUnmount(()=>{var c;o.value&&((c=i.value)==null||c.event.clearInstanceListeners(o.value),o.value.clearMarkers(!0),o.value.setMap(null),o.value.destroy())}),r({markerCluster:o}),()=>{var c;return(c=n.default)==null?void 0:c.call(n)}}}),fn=l.defineComponent({inheritAttrs:!1,props:{options:{type:Object,required:!0}},setup(t,{slots:e,emit:r,expose:n}){const o=l.ref(),s=l.computed(()=>{var a;return(a=e.default)==null?void 0:a.call(e).some(d=>d.type!==l.Comment)}),i=l.computed(()=>({...t.options,element:o.value})),c=$(W,[],i,r);return n({customMarker:c}),{customMarkerRef:o,customMarker:c,hasSlotContent:s}}}),En="",pn={key:0,class:"custom-marker-wrapper"};function mn(t,e,r,n,o,s){return t.hasSlotContent?(l.openBlock(),l.createElementBlock("div",pn,[l.createElementVNode("div",l.mergeProps({ref:"customMarkerRef",style:{cursor:t.$attrs.onClick?"pointer":void 0}},t.$attrs),[l.renderSlot(t.$slots,"default",{},void 0,!0)],16)])):l.createCommentVNode("v-if",!0)}const hn=D(fn,[["render",mn],["__scopeId","data-v-0be043d2"]]),gn=l.defineComponent({name:"HeatmapLayer",props:{options:{type:Object,default:()=>({})}},setup(t){const e=l.ref(),r=l.inject(S,l.ref()),n=l.inject(P,l.ref());return l.watch([r,()=>t.options],([o,s],[i,c])=>{const a=!U(s,c)||r.value!==i;if(r.value&&n.value&&a){let d;if(s.data&&!(s.data instanceof n.value.MVCArray)){const f=n.value.LatLng,u=s.data.map(m=>m instanceof f||"location"in m&&(m.location instanceof f||m.location===null)?m:"location"in m?{...m,location:new f(m.location)}:new f(m));d={...s,data:u}}else d=s;e.value?e.value.setOptions(d):e.value=l.markRaw(new n.value.visualization.HeatmapLayer({...d,map:r.value}))}},{immediate:!0}),l.onBeforeUnmount(()=>{e.value&&e.value.setMap(null)}),{heatmapLayer:e}},render:()=>null});b.AdvancedMarker=vt,b.Circle=Et,b.CustomControl=St,b.CustomMarker=hn,b.GoogleMap=ft,b.HeatmapLayer=gn,b.InfoWindow=Lt,b.Marker=_t,b.MarkerCluster=dn,b.Polygon=kt,b.Polyline=wt,b.Rectangle=bt,b.apiSymbol=P,b.mapSymbol=S,b.mapTilesLoadedSymbol=oe,Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})});
